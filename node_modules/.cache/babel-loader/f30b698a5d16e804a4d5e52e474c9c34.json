{"remainingRequest":"C:\\Users\\Mr.Ye\\Desktop\\vue数据中心\\datacenter\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Mr.Ye\\Desktop\\vue数据中心\\datacenter\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Mr.Ye\\Desktop\\vue数据中心\\datacenter\\src\\util\\http.js","dependencies":[{"path":"C:\\Users\\Mr.Ye\\Desktop\\vue数据中心\\datacenter\\src\\util\\http.js","mtime":1602746383508},{"path":"C:\\Users\\Mr.Ye\\Desktop\\vue数据中心\\datacenter\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Mr.Ye\\Desktop\\vue数据中心\\datacenter\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Mr.Ye\\Desktop\\vue数据中心\\datacenter\\node_modules\\eslint-loader\\index.js","mtime":1600916377253}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJDOi9Vc2Vycy9Nci5ZZS9EZXNrdG9wL3Z1ZVx1NjU3MFx1NjM2RVx1NEUyRFx1NUZDMy9kYXRhY2VudGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy/lvJXlhaXlronoo4XnmoRheGlvc+aPkuS7tgppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgcXMgZnJvbSAncXMnOwppbXBvcnQgY29va2llIGZyb20gJ3Z1ZS1jb29raWUnOyAvLyB2YXIgYXBpID0gJ2h0dHA6Ly9wbXNlci5zenJhdGV0ZWMuY29tOjgwODgvJzsKCnZhciBhcGkgPSAnaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDkvJzsgLy8gdmFyIGFwaSA9ICdodHRwOi8vdGVuZ2xvbmdhcGkuc3pyYXRldGVjLmNuLyc7Cgp2YXIgaHR0cCA9IGZ1bmN0aW9uIGh0dHAob3B0aW9ucykgewogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICB2YXIgZGVmYXVsdE9wdGlvbnMgPSB7fTsKCiAgICB2YXIgbmV3T3B0aW9ucyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZGVmYXVsdE9wdGlvbnMpLCBvcHRpb25zKTsKCiAgICB2YXIgdG9rZW4gPSBjb29raWUuZ2V0KCd0b2tlbicpOwogICAgdmFyIGVtcElEID0gY29va2llLmdldCgnZW1wSUQnKTsKICAgIHZhciBzeXNJRCA9IGNvb2tpZS5nZXQoJ3N5c0lEJyk7IC8vaGVhZGVyc+m7mOiupOS8oOmAkmpzb27moLzlvI/mlbDmja7vvIzov5nph4zkuZ/lj6/ku6Xorr7nva50b2tlbu+8jOavj+asoeiwg+eUqOmDveS8muaQuuW4pgoKICAgIG5ld09wdGlvbnMuaGVhZGVycyA9IHsKICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLAogICAgICAnZW1wSUQnOiBlbXBJRCwKICAgICAgJ3Rva2VuJzogdG9rZW4sCiAgICAgICdzeXNJRCc6IHN5c0lECiAgICB9OyAvL+i/memHjOWPr+S7peWcqOiwg+eUqOeahOaXtuWAmeeci+WIsOS9oOeahG1ldGhvZOOAgXVybOOAgWRhdGHjgIFoZWFkZXJz562J5Y+C5pWwCiAgICAvL2NvbnNvbGUubG9nKG5ld09wdGlvbnMpOwoKICAgIGF4aW9zKHsKICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgIHVybDogYXBpICsgbmV3T3B0aW9ucy51cmwsCiAgICAgIGRhdGE6IG5ld09wdGlvbnMuZGF0YSA/IHFzLnN0cmluZ2lmeShuZXdPcHRpb25zLmRhdGEpIDogJycsCiAgICAgIGhlYWRlcnM6IG5ld09wdGlvbnMuaGVhZGVycwogICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIC8v5qC55o2u6L+U5Zue55qE54q25oCB56CB5Yik5pat77yM5rOo5oSPcmUxc+i/lOWbnueahOW5tuS4jeS4gOWumumDveaYr3N0YXR1c++8jOavlOWmguWwj+eoi+W6j+WwseaYr3N0YXR1c0NvZGUKICAgICAgaWYgKHJlcy5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgLy/ov5nph4zmiJHku6zlj6rpnIDopoHojrflj5bov5Tlm57nmoRkYXRh5Lit55qE5pWw5o2u5Y2z5Y+vCiAgICAgICAgaWYgKHJlcy5kYXRhID09PSAzMDEpIHsKICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKCcvJyk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIHRyeSB7CiAgICAgICAgICAvLyAgICAgcmVzLmRhdGEuZGF0YSA9IEpTT04ucGFyc2UocmVzLmRhdGEuZGF0YSkKICAgICAgICAgIC8vIH1jYXRjaCAoZSkgewogICAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKGUpCiAgICAgICAgICAvLyB9CiAgICAgICAgICByZXNvbHZlKHJlcy5kYXRhKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmVqZWN0KHJlcyk7CiAgICAgIH0KICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoJywnKTsKICAgICAgcmVqZWN0KGVycik7CiAgICB9KTsKICB9KTsKfTsKCmV4cG9ydCBkZWZhdWx0IGh0dHA7"},{"version":3,"sources":["C:/Users/Mr.Ye/Desktop/vue数据中心/datacenter/src/util/http.js"],"names":["axios","qs","cookie","api","http","options","Promise","resolve","reject","defaultOptions","newOptions","token","get","empID","sysID","headers","method","url","data","stringify","then","res","status","window","location","replace","catch","err"],"mappings":";;;;AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,EAAP,MAAe,IAAf;AACA,OAAOC,MAAP,MAAmB,YAAnB,C,CAGA;;AACA,IAAIC,GAAG,GAAG,0BAAV,C,CACA;;AAEA,IAAMC,IAAI,GAAG,SAAPA,IAAO,CAAAC,OAAO,EAAI;AACpB,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpC,QAAMC,cAAc,GAAG,EAAvB;;AACA,QAAMC,UAAU,mCACTD,cADS,GAETJ,OAFS,CAAhB;;AAIA,QAAIM,KAAK,GAAGT,MAAM,CAACU,GAAP,CAAW,OAAX,CAAZ;AACA,QAAIC,KAAK,GAAGX,MAAM,CAACU,GAAP,CAAW,OAAX,CAAZ;AACA,QAAIE,KAAK,GAAGZ,MAAM,CAACU,GAAP,CAAW,OAAX,CAAZ,CARoC,CASpC;;AACAF,IAAAA,UAAU,CAACK,OAAX,GAAqB;AACjB,sBAAgB,mCADC;AAEjB,eAAQF,KAFS;AAGjB,eAAQF,KAHS;AAIjB,eAAQG;AAJS,KAArB,CAVoC,CAgBpC;AACA;;AACAd,IAAAA,KAAK,CAAC;AACFgB,MAAAA,MAAM,EAAE,MADN;AAEFC,MAAAA,GAAG,EAAEd,GAAG,GAACO,UAAU,CAACO,GAFlB;AAGFC,MAAAA,IAAI,EAAER,UAAU,CAACQ,IAAX,GAAgBjB,EAAE,CAACkB,SAAH,CAAaT,UAAU,CAACQ,IAAxB,CAAhB,GAA8C,EAHlD;AAIFH,MAAAA,OAAO,EAAEL,UAAU,CAACK;AAJlB,KAAD,CAAL,CAKGK,IALH,CAKQ,UAAAC,GAAG,EAAI;AACX;AACA,UAAIA,GAAG,CAACC,MAAJ,IAAc,GAAlB,EAAuB;AACnB;AACA,YAAID,GAAG,CAACH,IAAJ,KAAa,GAAjB,EAAqB;AACjBK,UAAAA,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,GAAxB;AACH,SAFD,MAEM;AACF;AACA;AACA;AACA;AACA;AACAlB,UAAAA,OAAO,CAACc,GAAG,CAACH,IAAL,CAAP;AACH;AACJ,OAZD,MAYO;AACHV,QAAAA,MAAM,CAACa,GAAD,CAAN;AACH;AACJ,KAtBD,EAsBGK,KAtBH,CAsBS,UAAAC,GAAG,EAAI;AACbJ,MAAAA,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,GAAxB;AACCjB,MAAAA,MAAM,CAACmB,GAAD,CAAN;AACH,KAzBD;AA0BH,GA5CM,CAAP;AA6CH,CA9CD;;AAgDA,eAAevB,IAAf","sourcesContent":["//引入安装的axios插件\r\nimport axios from 'axios'\r\nimport qs from 'qs'\r\nimport cookie from 'vue-cookie'\r\n\r\n\r\n// var api = 'http://pmser.szratetec.com:8088/';\r\nvar api = 'https://localhost:44309/';\r\n// var api = 'http://tenglongapi.szratetec.cn/';\r\n\r\nconst http = options => {\r\n    return new Promise((resolve, reject) => {\r\n        const defaultOptions = {};\r\n        const newOptions = {\r\n            ...defaultOptions,\r\n            ...options\r\n        };\r\n        var token = cookie.get('token');\r\n        var empID = cookie.get('empID');\r\n        var sysID = cookie.get('sysID');\r\n        //headers默认传递json格式数据，这里也可以设置token，每次调用都会携带\r\n        newOptions.headers = {\r\n            'Content-Type': 'application/x-www-form-urlencoded',\r\n            'empID':empID,\r\n            'token':token,\r\n            'sysID':sysID\r\n        };\r\n        //这里可以在调用的时候看到你的method、url、data、headers等参数\r\n        //console.log(newOptions);\r\n        axios({\r\n            method: 'post',\r\n            url: api+newOptions.url,\r\n            data: newOptions.data?qs.stringify(newOptions.data):'',\r\n            headers: newOptions.headers\r\n        }).then(res => {\r\n            //根据返回的状态码判断，注意re1s返回的并不一定都是status，比如小程序就是statusCode\r\n            if (res.status == 200) {\r\n                //这里我们只需要获取返回的data中的数据即可\r\n                if (res.data === 301){\r\n                    window.location.replace('/');\r\n                } else{\r\n                    // try {\r\n                    //     res.data.data = JSON.parse(res.data.data)\r\n                    // }catch (e) {\r\n                    //     console.log(e)\r\n                    // }\r\n                    resolve(res.data);\r\n                }\r\n            } else {\r\n                reject(res);\r\n            }\r\n        }).catch(err => {\r\n           window.location.replace(',');\r\n            reject(err);\r\n        })\r\n    })\r\n};\r\n\r\nexport default http\r\n"]}]}