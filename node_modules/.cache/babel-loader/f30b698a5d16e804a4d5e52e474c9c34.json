{"remainingRequest":"C:\\Users\\Mr.Ye\\Desktop\\vue数据中心\\datacenter\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Mr.Ye\\Desktop\\vue数据中心\\datacenter\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Mr.Ye\\Desktop\\vue数据中心\\datacenter\\src\\util\\http.js","dependencies":[{"path":"C:\\Users\\Mr.Ye\\Desktop\\vue数据中心\\datacenter\\src\\util\\http.js","mtime":1601373819614},{"path":"C:\\Users\\Mr.Ye\\Desktop\\vue数据中心\\datacenter\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Mr.Ye\\Desktop\\vue数据中心\\datacenter\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Mr.Ye\\Desktop\\vue数据中心\\datacenter\\node_modules\\eslint-loader\\index.js","mtime":1600916377253}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJDOi9Vc2Vycy9Nci5ZZS9EZXNrdG9wL3Z1ZVx1NjU3MFx1NjM2RVx1NEUyRFx1NUZDMy9kYXRhY2VudGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy/lvJXlhaXlronoo4XnmoRheGlvc+aPkuS7tgppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgcXMgZnJvbSAncXMnOwppbXBvcnQgY29va2llIGZyb20gJ3Z1ZS1jb29raWUnOwp2YXIgYXBpID0gJ2h0dHA6Ly9wbXNlci5zenJhdGV0ZWMuY29tOjgwODgvJzsgLy8gdmFyIGFwaSA9ICdodHRwczovL2xvY2FsaG9zdDo0NDMwOS8nOwoKdmFyIGh0dHAgPSBmdW5jdGlvbiBodHRwKG9wdGlvbnMpIHsKICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgdmFyIGRlZmF1bHRPcHRpb25zID0ge307CgogICAgdmFyIG5ld09wdGlvbnMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGRlZmF1bHRPcHRpb25zKSwgb3B0aW9ucyk7CgogICAgdmFyIHRva2VuID0gY29va2llLmdldCgndG9rZW4nKTsKICAgIHZhciBlbXBJRCA9IGNvb2tpZS5nZXQoJ2VtcElEJyk7CiAgICB2YXIgc3lzSUQgPSBjb29raWUuZ2V0KCdzeXNJRCcpOyAvL2hlYWRlcnPpu5jorqTkvKDpgJJqc29u5qC85byP5pWw5o2u77yM6L+Z6YeM5Lmf5Y+v5Lul6K6+572udG9rZW7vvIzmr4/mrKHosIPnlKjpg73kvJrmkLrluKYKCiAgICBuZXdPcHRpb25zLmhlYWRlcnMgPSB7CiAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywKICAgICAgJ2VtcElEJzogZW1wSUQsCiAgICAgICd0b2tlbic6IHRva2VuLAogICAgICAnc3lzSUQnOiBzeXNJRAogICAgfTsgLy/ov5nph4zlj6/ku6XlnKjosIPnlKjnmoTml7blgJnnnIvliLDkvaDnmoRtZXRob2TjgIF1cmzjgIFkYXRh44CBaGVhZGVyc+etieWPguaVsAogICAgLy9jb25zb2xlLmxvZyhuZXdPcHRpb25zKTsKCiAgICBheGlvcyh7CiAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICB1cmw6IGFwaSArIG5ld09wdGlvbnMudXJsLAogICAgICBkYXRhOiBuZXdPcHRpb25zLmRhdGEgPyBxcy5zdHJpbmdpZnkobmV3T3B0aW9ucy5kYXRhKSA6ICcnLAogICAgICBoZWFkZXJzOiBuZXdPcHRpb25zLmhlYWRlcnMKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAvL+agueaNrui/lOWbnueahOeKtuaAgeeggeWIpOaWre+8jOazqOaEj3JlMXPov5Tlm57nmoTlubbkuI3kuIDlrprpg73mmK9zdGF0dXPvvIzmr5TlpoLlsI/nqIvluo/lsLHmmK9zdGF0dXNDb2RlCiAgICAgIGlmIChyZXMuc3RhdHVzID09IDIwMCkgewogICAgICAgIC8v6L+Z6YeM5oiR5Lus5Y+q6ZyA6KaB6I635Y+W6L+U5Zue55qEZGF0YeS4reeahOaVsOaNruWNs+WPrwogICAgICAgIGlmIChyZXMuZGF0YSA9PT0gMzAxKSB7CiAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSgnLycpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAvLyB0cnkgewogICAgICAgICAgLy8gICAgIHJlcy5kYXRhLmRhdGEgPSBKU09OLnBhcnNlKHJlcy5kYXRhLmRhdGEpCiAgICAgICAgICAvLyB9Y2F0Y2ggKGUpIHsKICAgICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhlKQogICAgICAgICAgLy8gfQogICAgICAgICAgcmVzb2x2ZShyZXMuZGF0YSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHJlamVjdChyZXMpOwogICAgICB9CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKCcsJyk7CiAgICAgIHJlamVjdChlcnIpOwogICAgfSk7CiAgfSk7Cn07CgpleHBvcnQgZGVmYXVsdCBodHRwOw=="},{"version":3,"sources":["C:/Users/Mr.Ye/Desktop/vue数据中心/datacenter/src/util/http.js"],"names":["axios","qs","cookie","api","http","options","Promise","resolve","reject","defaultOptions","newOptions","token","get","empID","sysID","headers","method","url","data","stringify","then","res","status","window","location","replace","catch","err"],"mappings":";;;;AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,EAAP,MAAe,IAAf;AACA,OAAOC,MAAP,MAAmB,YAAnB;AAGA,IAAIC,GAAG,GAAG,kCAAV,C,CACA;;AAGA,IAAMC,IAAI,GAAG,SAAPA,IAAO,CAAAC,OAAO,EAAI;AACpB,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpC,QAAMC,cAAc,GAAG,EAAvB;;AACA,QAAMC,UAAU,mCACTD,cADS,GAETJ,OAFS,CAAhB;;AAIA,QAAIM,KAAK,GAAGT,MAAM,CAACU,GAAP,CAAW,OAAX,CAAZ;AACA,QAAIC,KAAK,GAAGX,MAAM,CAACU,GAAP,CAAW,OAAX,CAAZ;AACA,QAAIE,KAAK,GAAGZ,MAAM,CAACU,GAAP,CAAW,OAAX,CAAZ,CARoC,CASpC;;AACAF,IAAAA,UAAU,CAACK,OAAX,GAAqB;AACjB,sBAAgB,mCADC;AAEjB,eAAQF,KAFS;AAGjB,eAAQF,KAHS;AAIjB,eAAQG;AAJS,KAArB,CAVoC,CAgBpC;AACA;;AACAd,IAAAA,KAAK,CAAC;AACFgB,MAAAA,MAAM,EAAE,MADN;AAEFC,MAAAA,GAAG,EAAEd,GAAG,GAACO,UAAU,CAACO,GAFlB;AAGFC,MAAAA,IAAI,EAAER,UAAU,CAACQ,IAAX,GAAgBjB,EAAE,CAACkB,SAAH,CAAaT,UAAU,CAACQ,IAAxB,CAAhB,GAA8C,EAHlD;AAIFH,MAAAA,OAAO,EAAEL,UAAU,CAACK;AAJlB,KAAD,CAAL,CAKGK,IALH,CAKQ,UAAAC,GAAG,EAAI;AACX;AACA,UAAIA,GAAG,CAACC,MAAJ,IAAc,GAAlB,EAAuB;AACnB;AACA,YAAID,GAAG,CAACH,IAAJ,KAAa,GAAjB,EAAqB;AACjBK,UAAAA,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,GAAxB;AACH,SAFD,MAEM;AACF;AACA;AACA;AACA;AACA;AACAlB,UAAAA,OAAO,CAACc,GAAG,CAACH,IAAL,CAAP;AACH;AACJ,OAZD,MAYO;AACHV,QAAAA,MAAM,CAACa,GAAD,CAAN;AACH;AACJ,KAtBD,EAsBGK,KAtBH,CAsBS,UAAAC,GAAG,EAAI;AACbJ,MAAAA,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,GAAxB;AACCjB,MAAAA,MAAM,CAACmB,GAAD,CAAN;AACH,KAzBD;AA0BH,GA5CM,CAAP;AA6CH,CA9CD;;AAgDA,eAAevB,IAAf","sourcesContent":["//引入安装的axios插件\r\nimport axios from 'axios'\r\nimport qs from 'qs'\r\nimport cookie from 'vue-cookie'\r\n\r\n\r\nvar api = 'http://pmser.szratetec.com:8088/';\r\n// var api = 'https://localhost:44309/';\r\n\r\n\r\nconst http = options => {\r\n    return new Promise((resolve, reject) => {\r\n        const defaultOptions = {};\r\n        const newOptions = {\r\n            ...defaultOptions,\r\n            ...options\r\n        };\r\n        var token = cookie.get('token');\r\n        var empID = cookie.get('empID');\r\n        var sysID = cookie.get('sysID');\r\n        //headers默认传递json格式数据，这里也可以设置token，每次调用都会携带\r\n        newOptions.headers = {\r\n            'Content-Type': 'application/x-www-form-urlencoded',\r\n            'empID':empID,\r\n            'token':token,\r\n            'sysID':sysID\r\n        };\r\n        //这里可以在调用的时候看到你的method、url、data、headers等参数\r\n        //console.log(newOptions);\r\n        axios({\r\n            method: 'post',\r\n            url: api+newOptions.url,\r\n            data: newOptions.data?qs.stringify(newOptions.data):'',\r\n            headers: newOptions.headers\r\n        }).then(res => {\r\n            //根据返回的状态码判断，注意re1s返回的并不一定都是status，比如小程序就是statusCode\r\n            if (res.status == 200) {\r\n                //这里我们只需要获取返回的data中的数据即可\r\n                if (res.data === 301){\r\n                    window.location.replace('/');\r\n                } else{\r\n                    // try {\r\n                    //     res.data.data = JSON.parse(res.data.data)\r\n                    // }catch (e) {\r\n                    //     console.log(e)\r\n                    // }\r\n                    resolve(res.data);\r\n                }\r\n            } else {\r\n                reject(res);\r\n            }\r\n        }).catch(err => {\r\n           window.location.replace(',');\r\n            reject(err);\r\n        })\r\n    })\r\n};\r\n\r\nexport default http\r\n"]}]}