{"remainingRequest":"C:\\Users\\Mr.Ye\\Desktop\\vue数据中心\\datacenter\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Mr.Ye\\Desktop\\vue数据中心\\datacenter\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\Mr.Ye\\Desktop\\vue数据中心\\datacenter\\src\\util\\http.js","dependencies":[{"path":"C:\\Users\\Mr.Ye\\Desktop\\vue数据中心\\datacenter\\src\\util\\http.js","mtime":1601000314829},{"path":"C:\\Users\\Mr.Ye\\Desktop\\vue数据中心\\datacenter\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Mr.Ye\\Desktop\\vue数据中心\\datacenter\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Mr.Ye\\Desktop\\vue数据中心\\datacenter\\node_modules\\eslint-loader\\index.js","mtime":1600916377253}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJDOi9Vc2Vycy9Nci5ZZS9EZXNrdG9wL3Z1ZVx1NjU3MFx1NjM2RVx1NEUyRFx1NUZDMy9kYXRhY2VudGVyL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9vYmplY3RTcHJlYWQyIjsKLy/lvJXlhaXlronoo4XnmoRheGlvc+aPkuS7tgppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgcXMgZnJvbSAncXMnOwppbXBvcnQgY29va2llIGZyb20gJ3Z1ZS1jb29raWUnOwp2YXIgYXBpID0gJ2h0dHBzOi8vbG9jYWxob3N0OjQ0MzA5Lyc7Cgp2YXIgaHR0cCA9IGZ1bmN0aW9uIGh0dHAob3B0aW9ucykgewogIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICB2YXIgZGVmYXVsdE9wdGlvbnMgPSB7fTsKCiAgICB2YXIgbmV3T3B0aW9ucyA9IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgZGVmYXVsdE9wdGlvbnMpLCBvcHRpb25zKTsKCiAgICB2YXIgdG9rZW4gPSBjb29raWUuZ2V0KCd0b2tlbicpOwogICAgdmFyIGVtcElEID0gY29va2llLmdldCgnZW1wSUQnKTsgLy9oZWFkZXJz6buY6K6k5Lyg6YCSanNvbuagvOW8j+aVsOaNru+8jOi/memHjOS5n+WPr+S7peiuvue9rnRva2Vu77yM5q+P5qyh6LCD55So6YO95Lya5pC65bimCgogICAgbmV3T3B0aW9ucy5oZWFkZXJzID0gewogICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsCiAgICAgICdlbXBJRCc6IGVtcElELAogICAgICAndG9rZW4nOiB0b2tlbgogICAgfTsgLy/ov5nph4zlj6/ku6XlnKjosIPnlKjnmoTml7blgJnnnIvliLDkvaDnmoRtZXRob2TjgIF1cmzjgIFkYXRh44CBaGVhZGVyc+etieWPguaVsAogICAgLy9jb25zb2xlLmxvZyhuZXdPcHRpb25zKTsKCiAgICBheGlvcyh7CiAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICB1cmw6IGFwaSArIG5ld09wdGlvbnMudXJsLAogICAgICBkYXRhOiBuZXdPcHRpb25zLmRhdGEgPyBxcy5zdHJpbmdpZnkobmV3T3B0aW9ucy5kYXRhKSA6ICcnLAogICAgICBoZWFkZXJzOiBuZXdPcHRpb25zLmhlYWRlcnMKICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICBjb25zb2xlLmxvZyhyZXMpOyAvL+agueaNrui/lOWbnueahOeKtuaAgeeggeWIpOaWre+8jOazqOaEj3JlMXPov5Tlm57nmoTlubbkuI3kuIDlrprpg73mmK9zdGF0dXPvvIzmr5TlpoLlsI/nqIvluo/lsLHmmK9zdGF0dXNDb2RlCgogICAgICBpZiAocmVzLnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAvL+i/memHjOaIkeS7rOWPqumcgOimgeiOt+WPlui/lOWbnueahGRhdGHkuK3nmoTmlbDmja7ljbPlj68KICAgICAgICBpZiAocmVzLmRhdGEgPT09IDMwMSkgewogICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoJy8nKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgcmVzLmRhdGEuZGF0YSA9IEpTT04ucGFyc2UocmVzLmRhdGEuZGF0YSk7CiAgICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfnsbvlnovovazmjaLlpLHotKUnLCByZXMuZGF0YSk7CiAgICAgICAgICB9CgogICAgICAgICAgcmVzb2x2ZShyZXMuZGF0YSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHJlamVjdChyZXMpOwogICAgICB9CiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKCcvJyk7CiAgICAgIHJlamVjdChlcnIpOwogICAgfSk7CiAgfSk7Cn07CgpleHBvcnQgZGVmYXVsdCBodHRwOw=="},{"version":3,"sources":["C:/Users/Mr.Ye/Desktop/vue数据中心/datacenter/src/util/http.js"],"names":["axios","qs","cookie","api","http","options","Promise","resolve","reject","defaultOptions","newOptions","token","get","empID","headers","method","url","data","stringify","then","res","console","log","status","window","location","replace","JSON","parse","e","catch","err"],"mappings":";;;;AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,EAAP,MAAe,IAAf;AACA,OAAOC,MAAP,MAAmB,YAAnB;AAEA,IAAIC,GAAG,GAAG,0BAAV;;AAEA,IAAMC,IAAI,GAAG,SAAPA,IAAO,CAAAC,OAAO,EAAI;AACpB,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACpC,QAAMC,cAAc,GAAG,EAAvB;;AACA,QAAMC,UAAU,mCACTD,cADS,GAETJ,OAFS,CAAhB;;AAIA,QAAIM,KAAK,GAAGT,MAAM,CAACU,GAAP,CAAW,OAAX,CAAZ;AACA,QAAIC,KAAK,GAAGX,MAAM,CAACU,GAAP,CAAW,OAAX,CAAZ,CAPoC,CAQpC;;AACAF,IAAAA,UAAU,CAACI,OAAX,GAAqB;AACjB,sBAAgB,mCADC;AAEjB,eAAQD,KAFS;AAGjB,eAAQF;AAHS,KAArB,CAToC,CAcpC;AACA;;AAEAX,IAAAA,KAAK,CAAC;AACFe,MAAAA,MAAM,EAAE,MADN;AAEFC,MAAAA,GAAG,EAAEb,GAAG,GAACO,UAAU,CAACM,GAFlB;AAGFC,MAAAA,IAAI,EAAEP,UAAU,CAACO,IAAX,GAAgBhB,EAAE,CAACiB,SAAH,CAAaR,UAAU,CAACO,IAAxB,CAAhB,GAA8C,EAHlD;AAIFH,MAAAA,OAAO,EAAEJ,UAAU,CAACI;AAJlB,KAAD,CAAL,CAKGK,IALH,CAKQ,UAAAC,GAAG,EAAI;AACXC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,EADW,CAEX;;AACA,UAAIA,GAAG,CAACG,MAAJ,IAAc,GAAlB,EAAuB;AACnB;AACA,YAAIH,GAAG,CAACH,IAAJ,KAAa,GAAjB,EAAqB;AACjBO,UAAAA,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,GAAxB;AACH,SAFD,MAEM;AACF,cAAI;AACAN,YAAAA,GAAG,CAACH,IAAJ,CAASA,IAAT,GAAgBU,IAAI,CAACC,KAAL,CAAWR,GAAG,CAACH,IAAJ,CAASA,IAApB,CAAhB;AACH,WAFD,CAEC,OAAOY,CAAP,EAAU;AACPR,YAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAqBF,GAAG,CAACH,IAAzB;AACH;;AACDV,UAAAA,OAAO,CAACa,GAAG,CAACH,IAAL,CAAP;AACH;AACJ,OAZD,MAYO;AACHT,QAAAA,MAAM,CAACY,GAAD,CAAN;AACH;AACJ,KAvBD,EAuBGU,KAvBH,CAuBS,UAAAC,GAAG,EAAI;AACbP,MAAAA,MAAM,CAACC,QAAP,CAAgBC,OAAhB,CAAwB,GAAxB;AACClB,MAAAA,MAAM,CAACuB,GAAD,CAAN;AACH,KA1BD;AA2BH,GA5CM,CAAP;AA6CH,CA9CD;;AAgDA,eAAe3B,IAAf","sourcesContent":["//引入安装的axios插件\r\nimport axios from 'axios'\r\nimport qs from 'qs'\r\nimport cookie from 'vue-cookie'\r\n\r\nvar api = 'https://localhost:44309/';\r\n\r\nconst http = options => {\r\n    return new Promise((resolve, reject) => {\r\n        const defaultOptions = {};\r\n        const newOptions = {\r\n            ...defaultOptions,\r\n            ...options\r\n        };\r\n        var token = cookie.get('token');\r\n        var empID = cookie.get('empID');\r\n        //headers默认传递json格式数据，这里也可以设置token，每次调用都会携带\r\n        newOptions.headers = {\r\n            'Content-Type': 'application/x-www-form-urlencoded',\r\n            'empID':empID,\r\n            'token':token\r\n        };\r\n        //这里可以在调用的时候看到你的method、url、data、headers等参数\r\n        //console.log(newOptions);\r\n\r\n        axios({\r\n            method: 'post',\r\n            url: api+newOptions.url,\r\n            data: newOptions.data?qs.stringify(newOptions.data):'',\r\n            headers: newOptions.headers\r\n        }).then(res => {\r\n            console.log(res);\r\n            //根据返回的状态码判断，注意re1s返回的并不一定都是status，比如小程序就是statusCode\r\n            if (res.status == 200) {\r\n                //这里我们只需要获取返回的data中的数据即可\r\n                if (res.data === 301){\r\n                    window.location.replace('/');\r\n                } else{\r\n                    try {\r\n                        res.data.data = JSON.parse(res.data.data)\r\n                    }catch (e) {\r\n                        console.log('类型转换失败',res.data);\r\n                    }\r\n                    resolve(res.data);\r\n                }\r\n            } else {\r\n                reject(res);\r\n            }\r\n        }).catch(err => {\r\n           window.location.replace('/');\r\n            reject(err);\r\n        })\r\n    })\r\n};\r\n\r\nexport default http\r\n"]}]}