{"remainingRequest":"C:\\Users\\Mr.Ye\\Desktop\\vue数据中心\\datacenter\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Mr.Ye\\Desktop\\vue数据中心\\datacenter\\src\\views\\Implementation.vue?vue&type=style&index=0&id=db055928&lang=scss&scoped=true&","dependencies":[{"path":"C:\\Users\\Mr.Ye\\Desktop\\vue数据中心\\datacenter\\src\\views\\Implementation.vue","mtime":1602838435773},{"path":"C:\\Users\\Mr.Ye\\Desktop\\vue数据中心\\datacenter\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Mr.Ye\\Desktop\\vue数据中心\\datacenter\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Mr.Ye\\Desktop\\vue数据中心\\datacenter\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Mr.Ye\\Desktop\\vue数据中心\\datacenter\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Mr.Ye\\Desktop\\vue数据中心\\datacenter\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Mr.Ye\\Desktop\\vue数据中心\\datacenter\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLndyYXAgewogICAgLnJlc0JveCB7CiAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAuMTI1KTsKICAgICAgICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDRweDsKICAgICAgICAtbW96LWJvcmRlci1yYWRpdXM6IDRweDsKICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgICAgICAgcGFkZGluZzogMCA4cHg7CiAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjdmN2Y3OwoKICAgICAgICAucmVzVGl0bGUgewogICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAuMTI1KTsKICAgICAgICAgICAgaGVpZ2h0OiAzMHB4OwogICAgICAgICAgICBwYWRkaW5nOiA2cHg7CgogICAgICAgICAgICBpIHsKICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMjJweDsKICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAzMHB4OwogICAgICAgICAgICAgICAgZmxvYXQ6IGxlZnQ7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHAgewogICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4OwogICAgICAgICAgICAgICAgcGFkZGluZzogMCA4cHg7CiAgICAgICAgICAgICAgICBmbG9hdDogbGVmdDsKICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAzMHB4OwogICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDsKICAgICAgICAgICAgICAgIGNvbG9yOiAjODg4YjkyOwogICAgICAgICAgICB9CiAgICAgICAgICAgIC5TZXJhY2hSZXMgewogICAgICAgICAgICAgICAgZmxvYXQ6IGxlZnQ7CiAgICAgICAgICAgICAgICBvdXRsaW5lOiBub25lOwogICAgICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4OwogICAgICAgICAgICAgICAgcGFkZGluZzogMnB4OwogICAgICAgICAgICAgICAgbWFyZ2luLXRvcDogMnB4OwogICAgICAgICAgICB9CiAgICAgICAgICAgIC5tb3JlIHsKICAgICAgICAgICAgICAgIGZsb2F0OiByaWdodDsKICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAzMHB4OwogICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICB9CgogICAgICAgICAgICAubW9yZTpob3ZlciB7CiAgICAgICAgICAgICAgICBjb2xvcjogIzNhOGVlNjsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLnJlc0JvZHkgewogICAgICAgICAgICBwYWRkaW5nOiA4cHggMDsKICAgICAgICAgICAgaGVpZ2h0OiA2NnB4OwogICAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuOwogICAgICAgICAgICAtd2Via2l0LXRyYW5zaXRpb246IGFsbCAxczsKICAgICAgICAgICAgLW1vei10cmFuc2l0aW9uOiBhbGwgMXM7CiAgICAgICAgICAgIC1tcy10cmFuc2l0aW9uOiBhbGwgMXM7CiAgICAgICAgICAgIC1vLXRyYW5zaXRpb246IGFsbCAxczsKICAgICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDFzOwoKICAgICAgICAgICAgdWwgewogICAgICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDsKCiAgICAgICAgICAgICAgICBsaSB7CiAgICAgICAgICAgICAgICAgICAgbGlzdC1zdHlsZTogbm9uZTsKICAgICAgICAgICAgICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwOwogICAgICAgICAgICAgICAgICAgIG1hcmdpbjogNHB4OwogICAgICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOiAycHg7CiAgICAgICAgICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGxpLmFjdGl2ZSB7CiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICMwMDdiZmY7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC5yZXNCb2R5U2hvdyB7CiAgICAgICAgICAgIGhlaWdodDogYXV0bzsKICAgICAgICAgICAgb3ZlcmZsb3c6IGluaGVyaXQ7CiAgICAgICAgfQogICAgfQoKICAgIC5DdXJSZXNEZXRhaWwgewogICAgICAgIGhlaWdodDogMzBweDsKICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTJlM2U1OwogICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgIG1hcmdpbi10b3A6IDEwcHg7CiAgICAgICAgcGFkZGluZzogMCA4cHg7CiAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgZm9udC1zaXplOiAxNHB4OwoKICAgICAgICBpIHsKICAgICAgICAgICAgZm9udC1zaXplOiAyMnB4OwogICAgICAgICAgICBsaW5lLWhlaWdodDogMzBweDsKICAgICAgICB9CgogICAgICAgIHNwYW4gewoKICAgICAgICAgICAgbWFyZ2luOiAwIDhweDsKICAgICAgICB9CgogICAgICAgIC5hbGwgewogICAgICAgICAgICBjb2xvcjogbGltZWdyZWVuOwogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgfQogICAgfQp9CgpAbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA3NjdweCkgewogICAgLndyYXAgewogICAgICAgIHdpZHRoOiAxMDAlICFpbXBvcnRhbnQ7CiAgICAgICAgbWFyZ2luLWxlZnQ6IDAgIWltcG9ydGFudDsKICAgIH0KfQo="},{"version":3,"sources":["Implementation.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"Implementation.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div class=\"about wrap\" :class=\"{'WrapShow':WrapShow}\">\r\n        <!--<h1>这个是关于页面</h1>-->\r\n        <div class=\"resBox\">\r\n            <div class=\"resTitle\">\r\n                <i class=\"fa fa-laptop\"/>\r\n                <p v-text=\"'当前设备组:'+CurImplementationResGroup\"/>\r\n                <input type=\"text\" class=\"SerachRes\" placeholder=\"请输入设备\">\r\n                <!--<div class=\"all\">所有设备工单</div>-->\r\n                <div class=\"more\" @click=\"more\">展开</div>\r\n            </div>\r\n            <div class=\"resBody\" :class=\"{'resBodyShow':resBodyShow}\">\r\n                <ul>\r\n                    <li v-for=\"(item,index) in ImplementationResView\" :class=\"{'active':index==0?true:false}\" :key=\"item.resName\" v-text=\"item.resName\" @click=\"resClick\" />\r\n                </ul>\r\n            </div>\r\n        </div>\r\n        <div class=\"CurResDetail\">\r\n            <i class=\"fa fa-table\"></i>\r\n            <span>当前计划详情</span>\r\n            <p class=\"all\" @click=\"allRes\">所有设备</p>\r\n            <span v-text=\"'&lt; '+resource\" />\r\n        </div>\r\n        <div id=\"table\">\r\n\r\n            <!--<input type=\"text\" class=\"fuzzyInp\" placeholder=\"模糊筛选\" v-model=\"fuzzyFilter\" @input=\"fuzzyInp\">-->\r\n            <el-table\r\n                    :data=\"tableData\"\r\n                    border\r\n                    size=\"mini\"\r\n                    ref=\"filterTable\"\r\n                    :fit=\"true\"\r\n                    :default-sort=\"{prop: 'date', order: 'descending'}\"\r\n                    style=\"width: 100%\"\r\n                    :cell-style=\"{padding:'0px'}\"\r\n                    :height=\"tableOffset\"\r\n            >\r\n                <template v-for=\"item in columnsData\">\r\n                    <el-table-column\r\n                            :key=\"item\"\r\n                            :prop=\"item\"\r\n                            :label=\"item\"\r\n                            sortable\r\n                            show-overflow-tooltip\r\n                            :min-width=\"120\"\r\n                            align=\"center\"\r\n                    />\r\n                </template>\r\n            </el-table>\r\n            <el-pagination\r\n                    background\r\n                    layout=\"total, sizes, prev, pager, next, jumper\"\r\n                    @size-change=\"handleSizeChange\"\r\n                    @current-change=\"handleCurrentChange\"\r\n                    :current-page=\"currentPage\"\r\n                    :page-sizes=\"[ 10, 20, 50,100]\"\r\n                    :page-size=\"pagesize\"\r\n                    :total=\"tableCount\">\r\n            </el-pagination>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n    import {mapState} from 'vuex'\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                ImplementationResView: [],\r\n                resBodyShow: false,\r\n                resource:'',//当前设备\r\n                curPage: 1,\r\n                pagesize: 20,\r\n                currentPage: 1,\r\n                tableCount:0,\r\n                tableData:[],\r\n                columnsData:{},\r\n                tableOffset: null,\r\n            }\r\n        },\r\n        computed: {\r\n            ...mapState(['CurImplementationResGroup']),\r\n            /**\r\n             * @return {boolean}\r\n             */\r\n            WrapShow() {\r\n                return !this.$store.state.NavShow;\r\n            },\r\n\r\n        },\r\n        watch: {\r\n            CurImplementationResGroup() {\r\n                this.GetResView();\r\n            },\r\n        },\r\n        mounted() {\r\n            let offsetTop = document.getElementById('table').offsetTop - 50 || document.body.scrollTop - 50;\r\n            let wrapH = document.getElementsByClassName('wrap')[0].clientHeight - 50;\r\n            this.tableOffset = wrapH - offsetTop - 32 - 60;\r\n            this.GetResView();\r\n            this.getTableColumn();\r\n        },\r\n        methods: {\r\n            GetResView() {\r\n                this.currentPage = 1;\r\n                this.$http({\r\n                    url: 'ResView',\r\n                    data: {'resGroup': this.CurImplementationResGroup}\r\n                }).then(res => {\r\n                    if (res.resCount > 0) {\r\n                        this.ImplementationResView = JSON.parse(res.resView);\r\n                        document.getElementsByClassName('active')[0].classList.remove('active');\r\n                        this.resource = this.ImplementationResView[0].resName;\r\n                        this.ResWorkView(this.resource);\r\n                    }\r\n                });\r\n                return this.ImplementationResView;\r\n            },\r\n            more() {\r\n                this.resBodyShow = this.resBodyShow ? false : true\r\n            },\r\n            resClick(e){\r\n                document.getElementsByClassName('active')[0].classList.remove('active');\r\n                e.target.setAttribute('class','active');\r\n                let resource = e.target.innerText;\r\n                this.resource = resource;\r\n                this.ResWorkView(resource);\r\n                this.tableData = [];\r\n                this.currentPage = 1;\r\n            },\r\n            ResWorkView(resource,pageSize,curPage){\r\n                this.$http({\r\n                    url:'ResWorkView',\r\n                    data:{\r\n                        \"PageSize\": pageSize ? pageSize : \"20\",\r\n                        \"CurPage\": curPage ? curPage : \"1\",\r\n                        \"Resource\":resource\r\n                    }\r\n                }).then(res=>{\r\n                    this.tableCount = res.ImplementationCount;\r\n                    res.ImplementationData = JSON.parse(res.ImplementationData);\r\n                    res.ImplementationData.forEach(item=>{\r\n                        item['需求日期'] = this.$Fun.foramateDate(item['需求日期']);\r\n                        item['计划开始'] = this.$Fun.formateTime(item['计划开始']);\r\n                        item['计划结束'] = this.$Fun.formateTime(item['计划结束']);\r\n                        item['切换开始'] = this.$Fun.formateTime(item['切换开始']);\r\n                    });\r\n                    this.tableData = res.ImplementationData;\r\n                });\r\n            },\r\n            handleCurrentChange: function (currentPage) {\r\n                this.currentPage = currentPage;\r\n                this.ResWorkView(this.resource,this.pagesize, this.currentPage);\r\n            },\r\n            handleSizeChange: function (size) {\r\n                //table的页数发生改变触发事件\r\n                this.pagesize = size;\r\n                this.currentPage = 1;\r\n                this.ResWorkView(this.resource,this.pagesize, this.currentPage);\r\n            },\r\n            getTableColumn() {\r\n                this.columnsData = [];\r\n                //获取表格的列\r\n                this.$http({\r\n                    url: \"TableFiled\",\r\n                    data: {\r\n                        \"tableName\": \"WorkPlan\"\r\n                    }\r\n                }).then(res => {\r\n                    this.columnsData = res;\r\n                })\r\n            },\r\n            allRes(){\r\n                this.$http({\r\n                    url:\"AllResView\",\r\n                    data:{\r\n                        \"ResGroup\":this.CurImplementationResGroup\r\n                    }\r\n                }).then(res=>{\r\n                    console.log(res);\r\n                })\r\n            },\r\n        }\r\n    }\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n    .wrap {\r\n        .resBox {\r\n            width: 100%;\r\n            border: 1px solid rgba(0, 0, 0, .125);\r\n            -webkit-border-radius: 4px;\r\n            -moz-border-radius: 4px;\r\n            border-radius: 4px;\r\n            padding: 0 8px;\r\n            box-sizing: border-box;\r\n            background-color: #f7f7f7;\r\n\r\n            .resTitle {\r\n                border-bottom: 1px solid rgba(0, 0, 0, .125);\r\n                height: 30px;\r\n                padding: 6px;\r\n\r\n                i {\r\n                    font-size: 22px;\r\n                    line-height: 30px;\r\n                    float: left;\r\n                }\r\n\r\n                p {\r\n                    font-size: 14px;\r\n                    padding: 0 8px;\r\n                    float: left;\r\n                    line-height: 30px;\r\n                    font-weight: 600;\r\n                    color: #888b92;\r\n                }\r\n                .SerachRes {\r\n                    float: left;\r\n                    outline: none;\r\n                    font-size: 14px;\r\n                    padding: 2px;\r\n                    margin-top: 2px;\r\n                }\r\n                .more {\r\n                    float: right;\r\n                    font-size: 14px;\r\n                    line-height: 30px;\r\n                    cursor: pointer;\r\n                }\r\n\r\n                .more:hover {\r\n                    color: #3a8ee6;\r\n                }\r\n            }\r\n\r\n            .resBody {\r\n                padding: 8px 0;\r\n                height: 66px;\r\n                overflow: hidden;\r\n                -webkit-transition: all 1s;\r\n                -moz-transition: all 1s;\r\n                -ms-transition: all 1s;\r\n                -o-transition: all 1s;\r\n                transition: all 1s;\r\n\r\n                ul {\r\n                    display: flex;\r\n                    flex-wrap: wrap;\r\n\r\n                    li {\r\n                        list-style: none;\r\n                        white-space: nowrap;\r\n                        margin: 4px;\r\n                        font-size: 14px;\r\n                        padding: 2px;\r\n                        cursor: pointer;\r\n                    }\r\n\r\n                    li.active {\r\n                        color: #007bff;\r\n                    }\r\n                }\r\n            }\r\n\r\n            .resBodyShow {\r\n                height: auto;\r\n                overflow: inherit;\r\n            }\r\n        }\r\n\r\n        .CurResDetail {\r\n            height: 30px;\r\n            background-color: #e2e3e5;\r\n            width: 100%;\r\n            margin-top: 10px;\r\n            padding: 0 8px;\r\n            box-sizing: border-box;\r\n            display: flex;\r\n            align-items: center;\r\n            font-size: 14px;\r\n\r\n            i {\r\n                font-size: 22px;\r\n                line-height: 30px;\r\n            }\r\n\r\n            span {\r\n\r\n                margin: 0 8px;\r\n            }\r\n\r\n            .all {\r\n                color: limegreen;\r\n                cursor: pointer;\r\n            }\r\n        }\r\n    }\r\n\r\n    @media screen and (max-width: 767px) {\r\n        .wrap {\r\n            width: 100% !important;\r\n            margin-left: 0 !important;\r\n        }\r\n    }\r\n</style>\r\n"]}]}