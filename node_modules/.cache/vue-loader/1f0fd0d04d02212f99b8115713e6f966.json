{"remainingRequest":"C:\\Users\\Mr.Ye\\Desktop\\vue数据中心\\datacenter\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Mr.Ye\\Desktop\\vue数据中心\\datacenter\\src\\views\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Mr.Ye\\Desktop\\vue数据中心\\datacenter\\src\\views\\Login.vue","mtime":1601373819626},{"path":"C:\\Users\\Mr.Ye\\Desktop\\vue数据中心\\datacenter\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Mr.Ye\\Desktop\\vue数据中心\\datacenter\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Mr.Ye\\Desktop\\vue数据中心\\datacenter\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Mr.Ye\\Desktop\\vue数据中心\\datacenter\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgpleHBvcnQgZGVmYXVsdCB7CiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIEVtcElEOiAiIiwKICAgICAgICAgICAgVXNlclBhc3M6ICIiLAogICAgICAgICAgICBFcnJvck1lc3NhZ2U6ICIiLAogICAgICAgICAgICBMb2dpblN0YXRlOiB0cnVlCiAgICAgICAgfTsKICAgIH0sCiAgICBtb3VudGVkKCkgewoKICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgTG9naW5DbGljaygpIHsKICAgICAgICAgICAgLy8g55m75b2V5oyJ6ZKu55qE54K55Ye75LqL5Lu2CiAgICAgICAgICAgIGlmICh0aGlzLkVtcElEID09ICIiKSB7CiAgICAgICAgICAgICAgICAvLyDliKTmlq3nlKjmiLflkI3mmK/lkKbkuLrnqboKICAgICAgICAgICAgICAgIHRoaXMuRXJyb3JNZXNzYWdlID0gIuivt+i+k+WFpeeUqOaIt+WQjSI7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHRoaXMuVXNlclBhc3MgPT0gIiIpIHsKICAgICAgICAgICAgICAgIC8vIOWIpOaWreWvhueggeaYr+WQpuS4uuepugogICAgICAgICAgICAgICAgdGhpcy5FcnJvck1lc3NhZ2UgPSAi6K+36L6T5YWl5a+G56CBIjsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHRoaXMuJGh0dHAoewogICAgICAgICAgICAgICAgICAgIC8v6L+Z6YeM5piv5L2g6Ieq5bex55qE6K+35rGC5pa55byP44CBdXJs5ZKMZGF0YeWPguaVsAogICAgICAgICAgICAgICAgICAgIHVybDogJ2xvZ2luJywKICAgICAgICAgICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJlbXBJRCI6IHRoaXMuRW1wSUQsCiAgICAgICAgICAgICAgICAgICAgICAgICJwd2QiOiB0aGlzLlVzZXJQYXNzCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgICAgIGlmIChyZXMubG9naW5TdGF0ZSAhPT0gIjAiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuTG9naW5TdGF0ZSA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB0aGlzLkVycm9yTWVzc2FnZSA9IHJlcy5tZXNzYWdlOwogICAgICAgICAgICAgICAgfSwgZXJyID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgICAgICAgICAgICAgIHRoaXMuRXJyb3JNZXNzYWdlID0gIuacjeWKoeWZqOe5geW/mSzor7fnqI3lkI7ph43or5UiOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAvL+eZu+W9leafpeivogogICAgICAgICAgICAgICAgLy8g6K6+572uY29va2ll6buY6K6k6L+H5pyf5pe26Ze05Y2V5L2N5pivMWQoMeWkqSkKCiAgICAgICAgICAgICAgICAvLyDot7PovazliLDpgInmi6npobXpnaIKICAgICAgICAgICAgICAgIC8vIHRoaXMuJHJvdXRlci5wdXNoKCIvU2VsZWN0Iik7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIExvZ091dCgpIHsKICAgICAgICAgICAgdGhpcy4kaHR0cCh7CiAgICAgICAgICAgICAgICAvL+i/memHjOaYr+S9oOiHquW3seeahOivt+axguaWueW8j+OAgXVybOWSjGRhdGHlj4LmlbAKICAgICAgICAgICAgICAgIHVybDogJ0xvZ091dCcsCiAgICAgICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgICAgICAgImVtcElEIjogdGhpcy5FbXBJRCwKICAgICAgICAgICAgICAgICAgICAidXNlclBhc3MiOiB0aGlzLlVzZXJQYXNzCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICAgICAgICBpZiAocmVzLmxvZ2luU3RhdGUgPT09ICIxIikgewogICAgICAgICAgICAgICAgICAgIHRoaXMuJGNvb2tpZS5zZXQoInRva2VuIiwgcmVzLnVzZXJHdWlkLCAxKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRjb29raWUuc2V0KCJlbXBJRCIsIHJlcy5lbXBJRCwgMSk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5HZXRVc2VyTWVzc2FnZSgpOwoKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5FcnJvck1lc3NhZ2UgPSByZXMubWVzc2FnZTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwgZXJyID0+IHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICAgICAgICB0aGlzLkVycm9yTWVzc2FnZSA9ICLmnI3liqHlmajnuYHlv5ks6K+356iN5ZCO6YeN6K+VIjsKICAgICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBHZXRVc2VyTWVzc2FnZSgpIHsKICAgICAgICAgICAgdGhpcy4kaHR0cCh7dXJsOiAnVXNlck1lc3NhZ2UnfSkudGhlbihyZXMgPT4gewogICAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuVXNlck1lc3NhZ2UgPSByZXNbMF07CiAgICAgICAgICAgICAgICB0aGlzLiRjb29raWUuc2V0KCJlbXBOYW1lIixyZXNbMF0uZW1wTmFtZSwxKTsKICAgICAgICAgICAgICAgIHRoaXMuJGNvb2tpZS5zZXQoInN5c0lEIixyZXNbMF0uc3lzSUQsMSk7CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL1NlbGVjdCIpOwogICAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgICAgY2FuY2VsKCl7CiAgICAgICAgICAgIHRoaXMuTG9naW5TdGF0ZSA9IHRydWU7CiAgICAgICAgICAgIHRoaXMuRXJyb3JNZXNzYWdlID0gJyc7CiAgICAgICAgICAgIHRoaXMuRW1wSUQgPSAnJzsKICAgICAgICAgICAgdGhpcy5Vc2VyUGFzcyA9ICcnOwogICAgICAgIH0KICAgIH0sCn07Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n    <div class=\"wrapper\" v-if=\"[v-cloak]\">\r\n        <div class=\"wrapBox\">\r\n            <div class=\"left\">\r\n                <div class=\"imgBox\">\r\n                    <img src=\"../assets/image/logo-white.png\" alt/>\r\n                    <p class=\"imgdesc\" v-text=\"'您身边更专业的计划专家'\"/>\r\n                </div>\r\n            </div>\r\n            <div class=\"right\">\r\n                <div class=\"inputBox\">\r\n                    <p class=\"title\" v-text=\"'用户登陆'\"/>\r\n                    <input type=\"text\" placeholder=\"用户名\" v-model=\"EmpID\"/>\r\n                    <form>\r\n                    <input type=\"password\" placeholder=\"密码\" v-model=\"UserPass\"/>\r\n                    </form>\r\n                    <button @click=\"LoginClick\" v-text=\"'登陆'\" v-if=\"LoginState\"/>\r\n                    <div class=\"fouceOut\" v-else>\r\n                        <button v-text=\"'强制登录'\" @click=\"LogOut\"/>\r\n                        <button v-text=\"'取消'\" class=\"cancel\" @click=\"cancel\" />\r\n                    </div>\r\n                    <div class=\"errorBox\" v-text=\"ErrorMessage\"/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n<script>\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                EmpID: \"\",\r\n                UserPass: \"\",\r\n                ErrorMessage: \"\",\r\n                LoginState: true\r\n            };\r\n        },\r\n        mounted() {\r\n\r\n        },\r\n        methods: {\r\n            LoginClick() {\r\n                // 登录按钮的点击事件\r\n                if (this.EmpID == \"\") {\r\n                    // 判断用户名是否为空\r\n                    this.ErrorMessage = \"请输入用户名\";\r\n                    return;\r\n                }\r\n                if (this.UserPass == \"\") {\r\n                    // 判断密码是否为空\r\n                    this.ErrorMessage = \"请输入密码\";\r\n                    return;\r\n                } else {\r\n                    this.$http({\r\n                        //这里是你自己的请求方式、url和data参数\r\n                        url: 'login',\r\n                        data: {\r\n                            \"empID\": this.EmpID,\r\n                            \"pwd\": this.UserPass\r\n                        }\r\n                    }).then(res => {\r\n                        if (res.loginState !== \"0\") {\r\n                            this.LoginState = false;\r\n                        }\r\n                        this.ErrorMessage = res.message;\r\n                    }, err => {\r\n                        console.log(err);\r\n                        this.ErrorMessage = \"服务器繁忙,请稍后重试\";\r\n                    });\r\n                    //登录查询\r\n                    // 设置cookie默认过期时间单位是1d(1天)\r\n\r\n                    // 跳转到选择页面\r\n                    // this.$router.push(\"/Select\");\r\n                }\r\n            },\r\n            LogOut() {\r\n                this.$http({\r\n                    //这里是你自己的请求方式、url和data参数\r\n                    url: 'LogOut',\r\n                    data: {\r\n                        \"empID\": this.EmpID,\r\n                        \"userPass\": this.UserPass\r\n                    }\r\n                }).then(res => {\r\n                    console.log(res);\r\n                    if (res.loginState === \"1\") {\r\n                        this.$cookie.set(\"token\", res.userGuid, 1);\r\n                        this.$cookie.set(\"empID\", res.empID, 1);\r\n                        this.GetUserMessage();\r\n\r\n                    } else {\r\n                        this.ErrorMessage = res.message;\r\n                    }\r\n                }, err => {\r\n                    console.log(err);\r\n                    this.ErrorMessage = \"服务器繁忙,请稍后重试\";\r\n                });\r\n            },\r\n            GetUserMessage() {\r\n                this.$http({url: 'UserMessage'}).then(res => {\r\n                    this.$store.state.UserMessage = res[0];\r\n                    this.$cookie.set(\"empName\",res[0].empName,1);\r\n                    this.$cookie.set(\"sysID\",res[0].sysID,1);\r\n                    this.$router.push(\"/Select\");\r\n                })\r\n            },\r\n            cancel(){\r\n                this.LoginState = true;\r\n                this.ErrorMessage = '';\r\n                this.EmpID = '';\r\n                this.UserPass = '';\r\n            }\r\n        },\r\n    };\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    [v-cloak] {\r\n        display: none;\r\n    }\r\n\r\n    .wrapper {\r\n        width: 100%;\r\n        height: 100%;\r\n        background: linear-gradient(to right, #0052d4, #65c7f7, #9cecfb);\r\n\r\n        .wrapBox {\r\n            width: 60%;\r\n            max-width: 1200px;\r\n            height: 300px;\r\n            position: absolute;\r\n            left: 50%;\r\n            top: 50%;\r\n            transform: translate(-50%, -50%);\r\n            background-color: #bdebfc;\r\n            box-shadow: 0 0.5rem 1rem 0 rgba(0, 0, 0, 0.5);\r\n            border-radius: 20px;\r\n\r\n            .left,\r\n            .right {\r\n                position: relative;\r\n                width: 50%;\r\n                float: left;\r\n                height: 100%;\r\n\r\n                .imgBox,\r\n                .inputBox {\r\n                    position: absolute;\r\n                    left: 50%;\r\n                    top: 50%;\r\n                    transform: translate(-50%, -50%);\r\n                }\r\n\r\n                .inputBox {\r\n                    padding: 8px 0;\r\n                    width: 100%;\r\n\r\n                    .title {\r\n                        color: #212549;\r\n                        font-size: 20px;\r\n                        letter-spacing: 2px;\r\n                        text-align: center;\r\n                        margin-bottom: 12px;\r\n                        font-weight: 500;\r\n                    }\r\n\r\n                    input,\r\n                    button,\r\n                    .errorBox {\r\n                        width: 90%;\r\n                        display: block;\r\n                        margin: 5px auto;\r\n                        height: 40px;\r\n                        border-radius: 4px;\r\n                        outline: none;\r\n                        font-size: 14px;\r\n                    }\r\n\r\n                    input {\r\n                        margin: 10px auto;\r\n                    }\r\n\r\n                    .errorBox {\r\n                        margin: 0 auto;\r\n                        text-align: right;\r\n                        color: red;\r\n                        font-size: 12px;\r\n                    }\r\n\r\n                    input {\r\n                        border: none;\r\n                        padding: 4px 8px;\r\n                        box-sizing: border-box;\r\n                        color: #495057;\r\n                    }\r\n\r\n                    button {\r\n                        color: #fff;\r\n                        padding: 4px 8px;\r\n                        background-color: #007bff;\r\n                        border: none;\r\n                        font-size: 16px;\r\n\r\n                        button:hover {\r\n                            background-color: #0069d9;\r\n                        }\r\n                    }\r\n\r\n                    .fouceOut {\r\n                        display: flex;\r\n                        width: 90%;\r\n                        margin: 15px auto;\r\n\r\n                        button:nth-child(1) {\r\n                            margin-right: 12px;\r\n                        }\r\n\r\n                        .cancel {\r\n                            background-color: #6c757d;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            .left {\r\n                background: url(\"../assets/image/timg.jpg\") no-repeat 0px 0px;\r\n                background-size: cover;\r\n                background-position: center;\r\n                border-radius: 20px 0 0 20px;\r\n\r\n                .imgdesc {\r\n                    color: white;\r\n                    font-size: 14px;\r\n                    text-align: center;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    @media screen and (max-width: 767px) {\r\n        .wrapBox {\r\n            width: 90% !important;\r\n\r\n            .left {\r\n                display: none !important;\r\n            }\r\n\r\n            .right {\r\n                width: 100% !important;\r\n            }\r\n        }\r\n        .wrap {\r\n            width: 80%;\r\n        }\r\n    }\r\n</style>\r\n"]}]}